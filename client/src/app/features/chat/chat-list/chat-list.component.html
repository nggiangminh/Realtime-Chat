<div class="chat-list-container">
  <!-- Search Box -->
  <div class="search-box">
    <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="11" cy="11" r="8"></circle>
      <path d="m21 21-4.35-4.35"></path>
    </svg>
    <input
      type="text"
      placeholder="Tìm kiếm người dùng..."
      [value]="searchQuery()"
      (input)="onSearchChange($event)"
    />
  </div>

  <!-- Users List -->
  <div class="users-list">
    @if (isLoading) {
      <div class="loading-state">
        <div class="spinner"></div>
        <p>Đang tải danh sách...</p>
      </div>
    } @else if (filteredUsers.length === 0) {
      <div class="empty-state">
        <p>Không tìm thấy người dùng</p>
      </div>
    } @else {
      @for (user of filteredUsers; track user.id) {
        <div
          class="user-item"
          [class.selected]="isSelected(user)"
          (click)="selectUser(user)"
        >
          <div class="user-avatar">
            {{ getUserInitial(user.displayName) }}
            <span class="online-indicator"></span>
          </div>
          <div class="user-details">
            <h4>{{ user.displayName }}</h4>
            <p class="user-email">{{ user.email }}</p>
          </div>
        </div>
      }
    }
  </div>
</div>
